
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Using Ternary Operators for More Maintainable Templates - TJ VanToll's Blog - Tutorials, Thoughts, and Ramblings on Front-End Development</title>
  <meta name="author" content="TJ VanToll">

  
  <meta name="description" content="With the rise of JavaScript MVC frameworks, writing templates has become a large part of many web developer&#8217;s workflow. As such, I thought I&# &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tjvantoll.com/2013/04/26/using-ternary-operators-for-more-maintainable-templates">
  <link rel="author" href="https://plus.google.com/+TJVanToll">

  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
  
  <!--Custom script concatenation
  <script src="/javascripts/modernizr-2.5.3.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js"></script>
  <script src="/javascripts/PictureCube.js"></script>
  <script src="/javascripts/blog.js"></script>
  -->
  <script src="/javascripts/build/scripts.js"></script>

  <link href="/atom.xml" rel="alternate" title="TJ VanToll's Blog" type="application/atom+xml">
  
  <script type="text/javascript">
  	if (window.location.host.indexOf('local') == -1) {
	    var _gaq = _gaq || [];
	    _gaq.push(['_setAccount', 'UA-29179796-1']);
	    _gaq.push(['_trackPageview']);
	
	    (function() {
	      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	    })();
    }
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
	<h1><a href="/">TJ VanToll's Blog</a></h1>
	
		<h2>Tutorials, Thoughts, and Ramblings on Front-End Development</h2> 
	
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tjvantoll.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
<li><a href="/">About</a></li>
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/archives/">Archives</a></li>
  <li><a href="/speaking/">Speaking</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article itemscope itemtype="http://schema.org/BlogPosting" role="article">
  
  <header>
    
      <h1 class="entry-title" itemprop="name headline">Using Ternary Operators for More Maintainable Templates</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-26T00:00:00-04:00" pubdate data-updated="true">Apr 26<span>th</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>With the rise of JavaScript MVC frameworks, writing templates has become a large part of many web developer&#8217;s workflow. As such, I thought I&#8217;d share a tip that has made my templates far more readable and maintainable over the years, ternary operators.<!-- http://jsbin.com/ekiwal/3/edit --></p>

<p><i>Note: For my examples I&#8217;m using <a href="http://underscorejs.org/#template">Underscore&#8217;s templates</a>, but this same tip applies to any templating language, even traditional server side ones like PHP.</i></p>

<!-- more -->


<h3>Example</h3>

<p>Let&#8217;s say you have the following data for your application:</p>

<pre class="language-javascript"><code>var items = [
    { name: 'Clock', selected: false },
    { name: 'Chair', selected: false },
    { name: 'Radio', selected: true }
];
</code></pre>


<p>And you want to run this data through a template to generate an HTML list. You might start with something like this:</p>

<pre class="language-markup"><code>&lt;ul&gt;
    &lt;% _.each( items, function( item ) { %&gt;
        &lt;li&gt;
            &lt;%- item.name %&gt;
        &lt;/li&gt;
    &lt;% }); %&gt;
&lt;/ul&gt;
</code></pre>


<p>This works fine.  But chances are, for a real application you&#8217;ll need to do something significantly more complicated than this.  As a first step, let&#8217;s say you have to add a CSS hook for selected items. You could accomplish that with an if check around each list item:</p>

<pre class="language-markup"><code>&lt;ul&gt;
    &lt;% _.each( items, function( item ) { %&gt;
        &lt;% if ( item.selected ) { %&gt;
            &lt;li class="selected"&gt;
        &lt;% } else { %&gt;
            &lt;li&gt;
        &lt;% } %&gt;
            &lt;%- item.name %&gt;
        &lt;/li&gt;
    &lt;% }); %&gt;
&lt;/ul&gt;
</code></pre>


<p>Unfortunately this adds 4 lines of code and some unfortunate indentation just to add a simple class. Another alternative is to put the if check within the attribute:</p>

<pre class="language-markup"><code>&lt;ul&gt;
    &lt;% _.each( items, function( item ) { %&gt;
        &lt;li class="&lt;% if ( item.selected ) { %&gt;selected&lt;% } %&gt;"&gt;
            &lt;%- item.name %&gt;
        &lt;/li&gt;
    &lt;% }); %&gt;
&lt;/ul&gt;
</code></pre>


<p>This isn&#8217;t bad, but personally I find this code difficult to scan. I prefer to handle this situation with a ternary operator:</p>

<pre class="language-markup"><code>&lt;ul&gt;
    &lt;% _.each( items, function( item ) { %&gt;
        &lt;li class="&lt;%= (item.selected) ? 'selected' : '' %&gt;"&gt;
            &lt;%- item.name %&gt;
        &lt;/li&gt;
    &lt;% }); %&gt;
&lt;/ul&gt;
</code></pre>


<p>Yes this is a stylistic thing, but I find this clearer and more readable. This will produce an unnecessary empty class attribute on non-selected items, but I believe the readability of the code to be far more important.</p>

<p>For added fun, ternary operators can be nested. Say your application now has to handle deleted items:</p>

<pre class="language-javascript"><code>var items = [
    { name: 'Clock', selected: false, deleted: true },
    { name: 'Chair', selected: false, deleted: false },
    { name: 'Radio', selected: true, deleted: false }
];
</code></pre>


<p>The following template shows how nested ternaries could be used to handle either a selected or deleted hook:</p>

<p><i>Note: This assumes that the selected and deleted states will not occur at the same time.</i></p>

<pre class="language-markup"><code>&lt;ul&gt;
    &lt;% _.each( items, function( item ) { %&gt;
        &lt;li class="&lt;%= (item.selected) ? 'selected' :
                       (item.deleted) ? 'deleted' : '' %&gt;"&gt;
            &lt;%- item.name %&gt;
        &lt;/li&gt;
    &lt;% }); %&gt;
&lt;/ul&gt;
</code></pre>


<p>Here are a couple other examples of how you could structure this check. The most important thing is to find something that works for you, or more importantly, the person who will be maintaining your code.</p>

<pre class="language-markup"><code>&lt;ul&gt;
    &lt;% _.each( items, function( item ) { %&gt;
        &lt;li class="&lt;% if (item.selected) { %&gt;selected&lt;% } %&gt;
                   &lt;% if (item.deleted) { %&gt;deleted&lt;% } %&gt;"&gt;
            &lt;%- item.name %&gt;
        &lt;/li&gt;
    &lt;% }); %&gt;
&lt;/ul&gt;
</code></pre>




<pre class="language-markup"><code>&lt;ul&gt;
    &lt;% _.each( items, function( item ) { %&gt;
        &lt;li class="
          &lt;% if (item.selected) { %&gt; selected &lt;% } %&gt;
          &lt;% if (item.deleted)  { %&gt; deleted  &lt;% } %&gt;
        "&gt;
            &lt;%- item.name %&gt;
        &lt;/li&gt;
    &lt;% }); %&gt;
&lt;/ul&gt;
</code></pre>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span itemprop="name" class="fn">TJ VanToll</span></span>

      








  


<time datetime="2013-04-26T00:00:00-04:00" pubdate data-updated="true">Apr 26<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/javascript/'>JavaScript</a>
  
</span>


    </p>
    <p class="author_card meta">
      <img src="/images/me/1.jpg" alt="Me!" id="post_me">
      TJ VanToll is a developer advocate for <a href="http://telerik.com">Telerik</a>, a <a href="http://jqueryui.com/about/">jQuery team member</a>, and the author of <a href="http://tjvantoll.com/jquery-ui-in-action.html">jQuery UI in Action</a>. TJ has over a decade of web development experience—specializing in performance and the mobile web—and <a href="/speaking">speaks</a> about his research at conferences around the world.TJ is <a href="http://twitter.com/tjvantoll">@tjvantoll</a> on Twitter and <a href="https://plus.google.com/+TJVanToll?rel=author" rel="author">+TJVanToll</a> on Google+.
    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://tjvantoll.com/2013/04/26/using-ternary-operators-for-more-maintainable-templates/" data-via="tjvantoll" data-counturl="http://tjvantoll.com/2013/04/26/using-ternary-operators-for-more-maintainable-templates/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2013/04/24/showing-a-css-based-loading-animation-while-your-site-loads/" title="Previous Post: Showing a CSS Based Loading Animation While Your Site Loads">&laquo; Showing a CSS Based Loading Animation While Your Site Loads</a>
      
      
        <a class="basic-alignment right" href="/2013/05/22/why-are-enter-keypresses-clicking-my-buttons-in-ie/" title="Next Post: Why are Enter Keypresses Clicking My Buttons in IE?">Why are Enter Keypresses Clicking My Buttons in IE? &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1 id="comments">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section class="ad-section">
	<h1>Support the Site</h1>
	<div class="ad-container">
		<script defer async src="http://cdn.adpacks.com/adpacks.js?legacyid=1285803&zoneid=1386&key=cb7a6f705dfe7532dde49b4c2c5adf2d&serve=C6SI42Y&placement=tjvantollcom&circle=dev" id="_adpacks_js"></script>
	</div>
</section><section class="ad-section">
	<h1>Check Out My Book</h1> 
	<div id="book-section">
		<a href="/jquery-ui-in-action.html" class="image-link">
			<img src="/images/book.jpg" alt="My jQuery UI in Action cover">
		</a>
		<div>
			<a href="/jquery-ui-in-action.html" class="text_link">
				jQuery UI in Action<br>
			</a>
			<strong>Covers jQuery UI 1.11!</strong>
			<p>Published by <a href="http://www.manning.com/?a_aid=tj-vantoll">Manning</a>.</p>
		</div>
	</div>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2015/06/05/nativescript-showing-and-hiding-elements/">NativeScript Quick Tip: Showing and Hiding Elements</a>
      </li>
    
      <li class="post">
        <a href="/2015/05/22/linting-javascript-in-nativescript-apps/">Linting JavaScript in NativeScript Apps</a>
      </li>
    
      <li class="post">
        <a href="/2015/03/19/nativescript-ios-navigation-bars/">NativeScript Quick Tip: Managing iOS Navigation Bars</a>
      </li>
    
      <li class="post">
        <a href="/2015/01/28/reportvalidity/">A reportValidity() Use Case and Polyfill</a>
      </li>
    
      <li class="post">
        <a href="/2015/01/26/wkwebview-plugin/">Speed Up Your Cordova App with the WKWebView Plugin</a>
      </li>
    
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - <a href="/">TJ VanToll</a> -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'tjvantoll';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://tjvantoll.com/2013/04/26/using-ternary-operators-for-more-maintainable-templates/';
        var disqus_url = 'http://tjvantoll.com/2013/04/26/using-ternary-operators-for-more-maintainable-templates/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>




Included file 'google_plus_one.html' not found in _includes directory

  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


Included file 'custom/after_footer.html' not found in _includes directory

</body>
</html>
